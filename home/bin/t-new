#!/bin/bash
set -eu
project="$1"

if [[ ${project:0:1} = "-" ]]; then
    case "$project" in
        -boxcutter)
            cd ~/src/RJMetrics/boxcutter
            /bin/bash
            ;;
        -task)
            ~/bin/task-shell
            ;;
        *)
            /bin/bash
            ;;
    esac
else
    path=/opt/code/$project
    ssh core -t "
        if [[ ! -d $path ]]; then
            git clone git@github.com:RJMetrics/$project.git $path
        fi
        cd $path
        /bin/bash --login
    "
fi
